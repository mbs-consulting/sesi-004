{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./src/js/components/template.js","webpack:///./src/js/helpers/component-error.js","webpack:///./src/js/components/form.js","webpack:///./src/js/modules/equipments/api/api.equipments.js","webpack:///./src/js/components/form-validation.js","webpack:///./src/js/modules/equipments/equipments-form.js","webpack:///./src/js/helpers/component-reference.js","webpack:///./src/js/components/table-expand.js","webpack:///./src/js/components/table-multivalue.js","webpack:///./src/js/modules/equipments/equipments-table.js","webpack:///./src/js/modules/equipments/index.js","webpack:///./src/js/helpers/component-helpers.js","webpack:///./src/js/components/button-radio.js","webpack:///./src/js/components/input-radio.js","webpack:///./src/js/modules/intervention/intervention-form.js","webpack:///./src/js/modules/intervention/index.js","webpack:///./src/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","all","on","type","handler","push","off","splice","indexOf","emit","evt","slice","map","config","filters","cnpj","replace","titleCase","toLowerCase","split","word","charAt","toUpperCase","join","empty","setTriggers","field","data","$","e","input","target","newValue","id","getAttribute","substring","binds","document","querySelectorAll","checked","handleUpdate","Array","isArray","index","closest","rowIndex","handleChange","forEach","element","update","addField","defaultAttr","getDefaultAttributes","isInputMultiple","getIgnoredNotSelector","ids","isFieldCollection","context","length","querySelector","codfield","mask","textContent","getRowIndex","mount","dataset","fieldId","filterName","filter","fieldValueIndex","fieldValue","fieldText","hasAttribute","option","maskOption","filterFn","console","error","init","ignored","ignoredSelector","fields","remove","ComponentError","message","errors","Error","COD_FLOW","getElementById","COD_FLOW_EXECUTE","COD_FLOW_EXECUTE_MASTER","COD_FLOW_EXECUTE_TASK","COD_FLOW_EXECUTE_TASK_POSITION","COD_FLOW_EXECUTE_C","ASSOCIATE_TO_COD_FLOW","ASSOCIATE_TO_COD_FLOW_EXECUTE","COD_TASK","TASK_ALIAS","IS_SIMULATION","USER_TOKEN","OrquestraData","codFlow","getInputValue","codFlowExecute","codFlowExecuteMaster","codFlowExecuteTask","codFlowExecuteTaskPosition","codFlowExecuteC","associateToCodFlow","associateToCodFlowExecute","codTask","taskAlias","isSimulation","userToken","params","inputValue","getField","options","alwaysArray","clearField","changeEvent","Event","fieldType","includes","dispatchEvent","addRequired","setAttribute","removeAttribute","removeRequired","getFieldValue","checkedField","find","checkedFields","callback","conditionals","helperClass","classList","add","showField","container","$container","isRequired","hideField","events","arrEvents","resolveCallbacks","values","event","addEventListener","date","month","year","unitId","period","equipmentSector","equipmentGroup","url","URL","process","inpunidadeSesi","inpperiodoDeReferencia","getMonth","toString","padStart","getFullYear","inpsetorEquipamento","inpgrupoDeEquipamento","search","URLSearchParams","fetch","then","res","json","success","group","errorMessage","this","validateField","silent","disabled","removeError","formGroup","formHelp","insertAdjacentHTML","addError","validateForm","groups","hasErrors","validation","result","SearchForm","EquipmentsForm","$refs","pane","table","btnSend","btnSearch","btnClear","unity","sector","state","emitter","securitySectors","inputs","handleGroupInput","currentSector","isSecuritySector","handleSearch","validationResult","validate","preventDefault","datepicker","EquipmentsApi","handleSearchDone","handleSearchError","handleClear","$formInput","$formText","nextSibling","removeLoadingState","err","language","startView","minViewMode","format","attr","resolveReference","reference","component","elements","HTMLElement","HTMLCollection","defaults","openClass","expandCellClass","expandIcon","createInstance","HTMLTableElement","buttonInsert","getTableBtnInsert","isReadOnly","rows","getTableRows","firstHeaderCell","getfirstHeaderCell","row","firstCell","getRowFirstCell","expandCellHtml","getExpandCellMarkup","getRowInstance","createExpandRows","instance","closeAll","close","openAll","open","addRowListners","lastRow","getLastRow","rowInstance","_tableExpand","expandElement","toggle","isOpen","onClick","deleteButton","removeRow","removeRows","click","EquipmentsTable","initialMessage","notFoundMessage","addTagsLocationVariant","tr","tag","variant","getTagVariant","undefined","populate","addFirstRow","entries","appendData","reset","show","Template","Equipments","alias","populateTable","tableData","resetTable","mountComponents","removeOptionPrefix","splitSeparator","trim","groupClass","btnClass","activeClass","hidePrefix","select","textvalue","inputHidden","getOrquestraField","removeTextPrefix","btnGroupHtml","buttons","label","getButtonMarkup","getButtonGroupMarkup","getOrquestraFieldOptions","style","display","buttonGroup","createButtonGroup","isEnable","set","button","onChange","addListners","_buttonGroup","radioInnerClass","radioHelpClass","radios","radio","radioInnerHtml","radioOption","radioHelper","radioHelperClone","cloneNode","ctrlHelp","getRadioHelper","textNode","radioText","insertAdjacentElement","createInputRadio","_inputRadio","apply","InterventionForm","lastDate","nextDate","nextDateMask","daysFrequencyCalibration","btnRadioRef","inpRadioRef","clearInterventionDates","addHandlers","reportForm","Form","certificateForm","InputRadio","$input","origin","targets","val","Date","daysToAdd","parseInt","setDate","getDate","dateToStringDate","getNextIntervention","toLocaleString","day","Intervention","mitt"],"mappings":"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","file":"app.bundle.6617e.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","const config = {\n  filters: {\n    cnpj (value) {\n      return value.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d)/, '$1.$2.$3/$4-$5')\n    },\n    titleCase (value) {\n      return value\n        .toLowerCase()\n        .split(' ')\n        .map(word => {\n          return word.charAt(0).toUpperCase() + word.slice(1)\n        }).join(' ')\n    },\n    empty (value) {\n      if (value === null || value === '') {\n        return 'N√£o informado'\n      }\n\n      return value\n    }\n  }\n}\n\nfunction setTriggers (field, data) {\n  // Workaround para n√£o observ√¢ncia do evento `change` em campos do tipo `data` do Orquestra.\n  // Estes fazem uso do plugin `Bootstrap Datepicker`, o qual restringe o evento change nativo\n  $(field).on('change', function (e) {\n    handleChange(e, field, data)\n  })\n}\n\nfunction handleChange (e, field, data) {\n  const input = e.target\n  const newValue = input.value || ''\n  const id = field.getAttribute('xname').substring(3)\n  const binds = document.querySelectorAll(`[data-bind=${id}]`)\n\n  if (field.type === 'checkbox') {\n    if (field.checked) {\n      data[id].value.push(newValue)\n    } else {\n      data[id].value.splice(\n        data[id].value.indexOf(newValue),\n        1\n      )\n    }\n    return handleUpdate(binds, data)\n  }\n\n  if (field.type === 'radio') {\n    if (field.checked) {\n      data[id].value = newValue\n    }\n    return handleUpdate(binds, data)\n  }\n\n  if (Array.isArray(data[id].value)) {\n    const index = input.closest('tr').rowIndex - 1 // ignora a 1¬∫ linha usada como cabe√ßalho\n    data[id].value[index] = newValue\n  } else {\n    data[id].value = newValue\n  }\n\n  return handleUpdate(binds, data)\n}\n\nfunction handleUpdate (binds, data) {\n  binds.forEach(element => {\n    update(element, data)\n  })\n}\n\nconst addField = {\n  single (field, data) {\n    const value = field.value || ''\n    const defaultAttr = getDefaultAttributes(field)\n\n    data[defaultAttr.id] = {\n      value,\n      ...defaultAttr\n    }\n  },\n\n  collection (field, data) {\n    const isInputMultiple = field.type === 'checkbox' || field.type === 'radio'\n    const defaultAttr = getDefaultAttributes(field)\n\n    if (!data[defaultAttr.id]) {\n      data[defaultAttr.id] = {\n        value: field.type === 'radio'\n          ? null\n          : [],\n        ...defaultAttr\n      }\n    }\n\n    if (isInputMultiple && !field.checked) {\n      return\n    }\n\n    if (field.type === 'radio') {\n      data[defaultAttr.id].value = field.value\n      return\n    }\n\n    data[defaultAttr.id].value.push(\n      field.value || ''\n    )\n  }\n}\n\n/**\n * Helpers\n */\nconst getIgnoredNotSelector = ids =>\n  ids.map(id => `:not([xname=inp${id}])`)\n\nconst isFieldCollection = (field, context) => (\n  context.querySelectorAll(`[xname=${field.getAttribute('xname')}]`).length > 1 ||\n  context.querySelector(`[xname=${field.getAttribute('xname')}]`).type === 'checkbox' ||\n  field.closest('table[mult=S]') !== null\n)\n\nconst getDefaultAttributes = field => {\n  const id = field.getAttribute('xname').substring(3)\n  const codfield = field.getAttribute('name').substring(3)\n  const mask = document.querySelector(`div[xid=div${id}]`)\n\n  return {\n    id,\n    codfield,\n    mask: mask ? mask.textContent : null\n  }\n}\n\nconst getRowIndex = element => {\n  return element.closest('tr').rowIndex - 1 // ignora a linha de cabe√ßalho\n}\n\n/**\n * Public API\n */\nfunction init (\n  { ignored = [], filters = {} } = { ignored: [], filters: {} },\n  context = document\n) {\n  const data = {}\n  const ignoredSelector = getIgnoredNotSelector(ignored)\n  const fields = context.querySelectorAll(`[xname]${ignoredSelector.join()}`)\n\n  document.data = data\n  config.filters = { ...config.filters, ...filters }\n\n  fields\n    .forEach(field => {\n      mount(field, data, context)\n    })\n\n  handleUpdate(\n    document.querySelectorAll('[data-bind]'),\n    data\n  )\n\n  document\n    .querySelectorAll('[data-bind]')\n    .forEach(element => update(element, data))\n}\n\nfunction mount (field, data = document.data, context = document) {\n  field.dataset.id = field.getAttribute('xname').substring(3)\n\n  setTriggers(field, data)\n\n  isFieldCollection(field, context)\n    ? addField.collection(field, data)\n    : addField.single(field, data)\n}\n\nfunction update (element, data = document.data) {\n  const fieldId = element.dataset.bind\n  const filterName = element.dataset.filter\n\n  if (!data[fieldId]) {\n    return\n  }\n\n  const fieldValueIndex = element.dataset.index === '{row}'\n    ? getRowIndex(element)\n    : element.dataset.index || 0\n\n  const fieldValue = Array.isArray(data[fieldId].value)\n    ? data[fieldId].value[fieldValueIndex]\n    : data[fieldId].value\n\n  let fieldText = fieldValue\n\n  if (element.hasAttribute('data-prefix')) {\n    fieldText = fieldValue.substring(2)\n  }\n\n  if (element.hasAttribute('data-mask')) {\n    const option = document.querySelector(`[xname=inp${fieldId}] option[value=\"${fieldValue}\"]`)\n    const maskOption = option ? option.textContent : null\n\n    fieldText = data[fieldId].mask || maskOption\n  }\n\n  if (filterName) {\n    const filterFn = config.filters[filterName]\n\n    if (!filterFn) {\n      return console.error(`[Template] Filter function ${filterName} not found`)\n    }\n\n    fieldText = filterFn.call(config.filters, fieldText)\n  }\n\n  element.textContent = fieldText\n}\n\nfunction remove (field, data = document.data) {\n  const fieldId = field.getAttribute('xname').substring(3)\n\n  if (Array.isArray(data[fieldId].value)) {\n    // previne a remova√ß√£o total de campos em tabelas multi-valoradas\n    if (data[fieldId].value.length === 1) {\n      return\n    }\n\n    const fieldValueIndex = getRowIndex(field)\n\n    if (fieldValueIndex < 0) {\n      console.error('[Template] You are trying to remove a field from data that already been deleted from DOM')\n    }\n\n    data[fieldId].value.splice(fieldValueIndex, 1)\n  } else {\n    delete data[fieldId]\n  }\n}\n\nexport default {\n  init,\n  mount,\n  update,\n  remove\n}\n","class ComponentError extends Error {\n  constructor ({ name, message, type, errors } = {}) {\n    super()\n\n    this.name = name || 'ComponentError'\n    this.message = message\n    this.type = type\n  }\n}\n\nexport default ComponentError\n","import ComponentError from '../helpers/component-error'\n\nconst COD_FLOW = document.getElementById('inpCodFlow')\nconst COD_FLOW_EXECUTE = document.getElementById('inpCodFlowExecute')\nconst COD_FLOW_EXECUTE_MASTER = document.getElementById('inpCodFlowExecuteMaster')\nconst COD_FLOW_EXECUTE_TASK = document.getElementById('inpCodFlowExecuteTask')\nconst COD_FLOW_EXECUTE_TASK_POSITION = document.getElementById('inpCodFlowExecuteTaskPosition')\nconst COD_FLOW_EXECUTE_C = document.getElementById('inpCodFlowExecuteC')\nconst ASSOCIATE_TO_COD_FLOW = document.getElementById('inpAssociateToCodFlow')\nconst ASSOCIATE_TO_COD_FLOW_EXECUTE = document.getElementById('inpAssociateToCodFlowExecute')\nconst COD_TASK = document.getElementById('inpCodFlowElement')\nconst TASK_ALIAS = document.getElementById('inpDsFlowElementAlias')\nconst IS_SIMULATION = document.getElementById('inpStSimulation')\nconst USER_TOKEN = document.getElementById('inpToken')\n\nconst OrquestraData = {\n  codFlow: getInputValue(COD_FLOW),\n  codFlowExecute: getInputValue(COD_FLOW_EXECUTE),\n  codFlowExecuteMaster: getInputValue(COD_FLOW_EXECUTE_MASTER),\n  codFlowExecuteTask: getInputValue(COD_FLOW_EXECUTE_TASK),\n  codFlowExecuteTaskPosition: getInputValue(COD_FLOW_EXECUTE_TASK_POSITION),\n  codFlowExecuteC: getInputValue(COD_FLOW_EXECUTE_C),\n  associateToCodFlow: getInputValue(ASSOCIATE_TO_COD_FLOW),\n  associateToCodFlowExecute: getInputValue(ASSOCIATE_TO_COD_FLOW_EXECUTE),\n  codTask: getInputValue(COD_TASK),\n  taskAlias: getInputValue(TASK_ALIAS),\n  isSimulation: getInputValue(IS_SIMULATION),\n  userToken: getInputValue(USER_TOKEN)\n}\n\nconst params = {\n  name: 'Form',\n  container: '.form-group',\n  hideClass: 'is-hidden'\n}\n\n/**\n * üí° Helper Functions\n */\nfunction getInputValue (inputValue) {\n  return inputValue\n    ? inputValue.value\n    : null\n}\n\n/**\n * üîë Public Methods\n */\nfunction on (target, callback) {\n  if (typeof target !== 'string' && !Array.isArray(target)) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      `Erro ao criar o evento 'on', \\n${target} n√£o √© um par√¢metro v√°lido. Voc√™ deve utilizar como target somente strings ou arrays de strings.`,\n      type: 'invalid_target_for_on_event'\n    })\n  }\n\n  if (typeof callback !== 'function') {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      `Erro ao criar o evento 'on', \\n${callback} n√£o √© um par√¢metro v√°lido. Voc√™ deve utilizar como callback somente fun√ß√µes.`,\n      type: 'invalid_callback_for_on_event'\n    })\n  }\n\n  const targets = typeof target === 'string'\n    ? [target]\n    : target\n\n  if (targets.includes(OrquestraData.taskAlias)) {\n    callback(OrquestraData.taskAlias)\n  }\n}\n\nfunction conditionals (context = document, helperClass = 'is-hidden') {\n  context\n    .querySelectorAll('[data-if]')\n    .forEach(element => {\n      const currentAlias = element.dataset.if\n        .replace(/[\\s[\\]]/g, '') // remove white spaces and brakets\n        .split(',') // splits if it's a list, using comma\n\n      if (currentAlias.includes(OrquestraData.taskAlias)) {\n        element.classList.remove(helperClass)\n      } else {\n        element.classList.add(helperClass)\n      }\n    })\n}\n\nfunction getField (fieldId, options = { alwaysArray: false }) {\n  const fields = document.querySelectorAll(`[xname=\"inp${fieldId}\"]`)\n\n  if (!fields.length) {\n    return null\n  }\n\n  if (options.alwaysArray) {\n    return [...fields]\n  }\n\n  return fields.length > 1\n    ? [...fields]\n    : fields[0]\n}\n\nfunction clearField (fieldId) {\n  const changeEvent = new Event('change')\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  fields.forEach(field => {\n    const fieldType = field.type\n\n    if (['text', 'textarea', 'select-one', 'hidden'].includes(fieldType)) {\n      field.value = ''\n    } else {\n      field.checked = false\n    }\n\n    field.dispatchEvent(changeEvent)\n  })\n}\n\nfunction addRequired (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  if (!fields) {\n    return console.error(`[Form] Unable to add required. Field reference ${fieldId} not found`)\n  }\n\n  fields.forEach(field => {\n    field.setAttribute('required', 'S')\n    field.removeAttribute('data-was-required')\n  })\n}\n\nfunction removeRequired (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  if (!fields) {\n    return console.error(`[Form] Unable to remove required. Field reference ${fieldId} not found`)\n  }\n\n  fields.forEach(field => {\n    field.setAttribute('required', 'N')\n    field.setAttribute('data-was-required', true)\n  })\n}\n\nfunction showField (fieldId, container = params.container) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const $container = fields[0].closest(container)\n  const isRequired = fields\n    .filter(field => field.getAttribute('data-was-required')).length > 0\n\n  $container.classList.remove(params.hideClass)\n\n  if (isRequired) {\n    addRequired(fieldId)\n  }\n}\n\nfunction hideField (fieldId, container = params.container) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const $container = fields[0].closest(container)\n  const isRequired = fields\n    .filter(field => field.getAttribute('required') === 'S').length > 0\n\n  $container.classList.add(params.hideClass)\n  clearField(fieldId)\n\n  if (isRequired) {\n    removeRequired(fieldId)\n  }\n}\n\nfunction getFieldValue (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const fieldType = fields[0].type\n\n  if (['text', 'textarea', 'select-one', 'hidden'].includes(fieldType)) {\n    return fields[0].value\n  }\n\n  if (fieldType === 'radio') {\n    const checkedField = fields.find(field => field.checked)\n\n    return checkedField\n      ? checkedField.value\n      : null\n  }\n\n  if (fieldType === 'checkbox') {\n    const checkedFields = fields\n      .filter(field => field.checked)\n      .map(field => field.value)\n\n    return checkedFields.length\n      ? checkedFields\n      : null\n  }\n\n  return null\n}\n\nfunction handler ({ target, events }, callback) {\n  const fields = getField(target, { alwaysArray: true })\n  const arrEvents = typeof events === 'string'\n    ? [events]\n    : events\n\n  if (!callback) {\n    return console.error('[Form] Unable to attach handler. You must inform a callback param')\n  }\n\n  fields.forEach(field => {\n    arrEvents.forEach(event => {\n      field.addEventListener(event, resolveCallbacks)\n    })\n  })\n\n  resolveCallbacks()\n\n  function resolveCallbacks () {\n    const values = getFieldValue(target)\n    callback(values)\n  }\n}\n\n/**\n * üîë Public API\n */\nexport default {\n  ...OrquestraData,\n  on,\n  conditionals,\n  getField,\n  getFieldValue,\n  clearField,\n  addRequired,\n  removeRequired,\n  showField,\n  hideField,\n  handler\n}\n","const ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_EQUIPMENTS\n\nconst dateToMonthYear = (date) => {\n  const month = (date.getMonth() + 1).toString().padStart(2, '0')\n  const year = date.getFullYear()\n\n  return `${month}/${year}`\n}\n\nconst getDataFromDataSource = function ({\n  unitId,\n  period,\n  equipmentSector,\n  equipmentGroup\n}) {\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\n\n  const params = {\n    inpunidadeSesi: unitId,\n    inpperiodoDeReferencia: dateToMonthYear(period),\n    inpsetorEquipamento: equipmentSector,\n    inpgrupoDeEquipamento: equipmentGroup\n  }\n\n  url.search = new URLSearchParams(params).toString()\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(({ success }) => {\n      return success.map(({ fields }) => fields)\n    })\n}\n\nexport default {\n  getDataFromDataSource\n}\n","function mount (group, context) {\n  const element = context.querySelector(group.element)\n  const errorMessage = group.errorMessage\n\n  if (!element) {\n    return console.error(`[Form Validation] element not found for selector: ${group.element}`)\n  }\n\n  setTriggers(element, errorMessage)\n}\n\nfunction setTriggers (element, errorMessage) {\n  // Utilizado jQuery para corrigir o n√£o disparo de\n  // eventos `change` em campos do tipo `data` do Orquestra\n  // que fazem uso do componente Bootstrap Datepicker.\n  $(element).on('change', function (e) {\n    handleChange.call(this, e, errorMessage)\n  })\n}\n\nfunction handleChange (e, errorMessage) {\n  validateField(this, errorMessage)\n}\n\nfunction validateField (field, errorMessage, silent) {\n  if (field.disabled) {\n    if (!silent) removeError(field)\n    return false\n  }\n  if (field.value === '') {\n    if (!silent) addError(field, errorMessage)\n    return true\n  } else {\n    if (!silent) removeError(field)\n    return false\n  }\n}\n\nfunction validateForm (groups, silent, context) {\n  let hasErrors = false\n\n  const result = groups.map(group => {\n    const element = context.querySelector(group.element)\n    const errorMessage = group.errorMessage\n    const validation = {\n      result: validateField(element, errorMessage, silent),\n      error: null\n    }\n\n    if (!validation.result) {\n      return validation\n    }\n\n    hasErrors = true\n    validation.error = errorMessage\n\n    return validation\n  })\n\n  const errors = result.filter(({ error }) => error !== null)\n\n  return {\n    hasErrors,\n    errors\n  }\n}\n\nconst getFormHelpElement = message =>\n  `<p class=\"form-help\">${message}</p>`\n\n/**\n * Public API\n */\nexport class FormValidation {\n  constructor (config, context = document) {\n    this.groups = config\n    this.context = context\n\n    if (!Array.isArray(config)) {\n      return console.error('[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)')\n    }\n\n    this.groups.forEach(group => mount(group, context))\n  }\n\n  validate (silent = false) {\n    return validateForm(this.groups, silent, this.context)\n  }\n}\n\nexport function addError (element, errorMessage) {\n  const formGroup = element.closest('.form-group')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  const formHelp = formGroup.querySelector('.form-help')\n\n  formGroup.classList.add('-error')\n\n  if (!formHelp) {\n    const formHelp = getFormHelpElement(errorMessage)\n    formGroup.insertAdjacentHTML('beforeend', formHelp)\n  } else {\n    formHelp.textContent = errorMessage\n  }\n}\n\nexport function removeError (element) {\n  const formGroup = element.closest('.form-group')\n  const formHelp = formGroup.querySelector('.form-help')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  if (formHelp) {\n    formHelp.remove()\n  }\n\n  formGroup.classList.remove('-error')\n}\n","import EquipmentsApi from './api/api.equipments'\nimport { FormValidation } from '../../components/form-validation'\n\nconst SearchForm = new FormValidation([\n  {\n    element: '[xname=inpunidadeSesi]',\n    errorMessage: 'Informe uma Unidade para pesquisar'\n  }, {\n    element: '[xname=inpsetorEquipamento]',\n    errorMessage: 'Informe o setor dos equipamentos'\n  }, {\n    element: '[xname=inpperiodoDeReferencia]',\n    errorMessage: 'Informe um per√≠odo'\n  }, {\n    element: '[xname=inpgrupoDeEquipamento]',\n    errorMessage: 'Informe o grupo do equipamento'\n  }\n])\n\nconst EquipmentsForm = function () {\n  const $refs = {\n    pane: document.querySelector('#equipments-pane'),\n    table: document.querySelector('#equipments-table'),\n    btnSend: document.querySelector('#BtnSend'),\n    btnSearch: document.querySelector('.js-search-equipments'),\n    btnClear: document.querySelector('.js-search-clear'),\n    unity: document.querySelector('[xname=inpunidadeSesi]'),\n    period: document.querySelector('[xname=inpperiodoDeReferencia]'),\n    sector: document.querySelector('[xname=inpsetorEquipamento]'),\n    group: document.querySelector('[xname=inpgrupoDeEquipamento]')\n  }\n\n  const state = {\n    emitter: null,\n    securitySectors: ['04', '05'],\n    inputs: [\n      $refs.unity,\n      $refs.period,\n      $refs.sector,\n      $refs.group\n    ]\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter }) {\n    state.emitter = emitter\n\n    $refs.btnSend.disabled = true\n\n    addListners()\n    handleGroupInput($refs.sector.value)\n  }\n\n  /**\n   * Private Methods\n   */\n  function addListners () {\n    $refs.sector.addEventListener('change', e => {\n      handleGroupInput(e.target.value)\n    })\n\n    $refs.btnSearch.addEventListener('click', handleSearch)\n    $refs.btnClear.addEventListener('click', handleClear)\n\n    $($refs.period)\n      .datepicker({\n        language: 'pt-BR',\n        startView: 'months',\n        minViewMode: 'months',\n        format: 'M/yyyy'\n      })\n      .attr('autocomplete', 'off')\n  }\n\n  function handleGroupInput (currentSector) {\n    const isSecuritySector = state.securitySectors\n      .includes(currentSector)\n\n    $refs.group.disabled = isSecuritySector\n\n    if (isSecuritySector) {\n      $refs.group.value = ''\n    }\n  }\n\n  function handleSearch (e) {\n    const validationResult = SearchForm.validate()\n\n    e.preventDefault()\n\n    if (validationResult.hasErrors) {\n      return\n    }\n\n    addLoadingState()\n    searchEquipments({\n      unitId: $refs.unity.value,\n      period: $($refs.period).datepicker('getDate'),\n      equipmentSector: $refs.sector.value,\n      equipmentGroup: $refs.group.value\n    })\n  }\n\n  function handleClear () {\n    state.emitter.emit('search-clear')\n    $refs.btnSend.disabled = true\n    unlockForm()\n  }\n\n  function addLoadingState () {\n    $refs.btnSearch\n      .classList\n      .add('-loading')\n\n    $refs.pane\n      .classList\n      .add('-loading')\n\n    $refs.table\n      .classList\n      .add('is-hidden')\n  }\n\n  function removeLoadingState () {\n    $refs.btnSearch\n      .classList\n      .remove('-loading')\n\n    $refs.pane\n      .classList\n      .remove('-loading')\n  }\n\n  function searchEquipments (params) {\n    EquipmentsApi\n      .getDataFromDataSource(params)\n      .then(handleSearchDone)\n      .catch(handleSearchError)\n  }\n\n  function handleSearchDone (data) {\n    state.emitter.emit('search-done', data)\n\n    removeLoadingState()\n\n    if (data.length) {\n      $refs.btnSend.disabled = false\n      lockForm()\n    }\n  }\n\n  function handleSearchError (err) {\n    console.error(err)\n    removeLoadingState()\n  }\n\n  function lockForm () {\n    $refs.btnSearch.classList.add('is-hidden')\n    $refs.btnClear.classList.remove('is-hidden')\n\n    state.inputs.forEach(input => {\n      const $formInput = input.closest('.form-input')\n      const $formText = $formInput.nextSibling\n\n      if ($formText.textContent === '' || $formText.textContent === 'Selecione') {\n        $formText.textContent = 'N√£o informado'\n      }\n\n      $formInput.classList.add('is-hidden')\n      $formText.classList.remove('is-hidden')\n    })\n  }\n\n  function unlockForm () {\n    $refs.btnSearch.classList.remove('is-hidden')\n    $refs.btnClear.classList.add('is-hidden')\n\n    state.inputs.forEach(input => {\n      const $formInput = input.closest('.form-input')\n      const $formText = $formInput.nextSibling\n\n      $formInput.classList.remove('is-hidden')\n      $formText.classList.add('is-hidden')\n    })\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default EquipmentsForm()\n","import ComponentError from './component-error'\n\nexport default function resolveReference (reference, component) {\n  // Any QuerySelector string\n  // e.g. 'div > .class'\n  if (typeof reference === 'string') {\n    let elements\n\n    try {\n      elements = [...document.querySelectorAll(reference)]\n    } catch (error) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a inst√¢ncia do componente.\\n${reference} n√£o √© um seletor v√°lido`,\n        type: 'reference_queryselector_validation'\n      })\n    }\n\n    if (!elements.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a inst√¢ncia do componente.\\nN√£o foi encontrado nenhum elemento para o seletor ${reference}`,\n        type: 'reference_queryselector_empty'\n      })\n    }\n\n    return elements\n  }\n\n  // Single HTML Elements\n  // e.g. document.querySelector('div')\n  if (reference instanceof HTMLElement) {\n    return [reference]\n  }\n\n  // HTML Collection and Node List\n  // HTMLCollection: e.g. document.getElementsByClassName('myClass')\n  // NodeList: e.g. document.querySelectorAll('div')\n  if (reference instanceof HTMLCollection) {\n    return [...reference]\n  }\n\n  // Array of HTML Elements\n  // e.g. [document.querySelector('#a'), document.querySelector('#b')]\n  if (Array.isArray(reference)) {\n    if (!reference.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        'Erro ao inicializar a inst√¢ncia do componente.\\nVoc√™ n√£o pode chamar o construtor com array vazio',\n        type: 'reference_array_empty'\n      })\n    }\n\n    reference.forEach(element => {\n      if (!(element instanceof HTMLElement)) {\n        throw new ComponentError({\n          name: component,\n          message:\n          'Erro ao inicializar a inst√¢ncia do componente\\nVoc√™ n√£o pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement',\n          type: 'reference_array_validation'\n        })\n      }\n    })\n\n    return reference\n  }\n\n  throw new ComponentError({\n    name: component,\n    message:\n    'Erro ao inicializar a inst√¢ncia do componente.\\nVoc√™ deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList',\n    type: 'reference_invalid_type'\n  })\n}\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\n\nconst defaults = {\n  openClass: '-open',\n  expandCellClass: 'form-table-expand-trigger',\n  expandIcon: 'fa-angle-right'\n}\n\nexport default function TableExpand (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'TableExpand'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (table, params) {\n  if (!(table instanceof HTMLTableElement)) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a inst√¢ncia do componente.\\nO elemento informado deve obrigatoriamente ser uma tabela (HTMLTableElement)',\n      type: 'instace_table_not_found'\n    })\n  }\n\n  const buttonInsert = getTableBtnInsert(table)\n  const isReadOnly = !buttonInsert\n  const rows = createExpandRows(table, isReadOnly, params)\n\n  const instance = {\n    table,\n    rows,\n    buttonInsert,\n    isReadOnly,\n    closeAll,\n    openAll\n  }\n\n  addTableListners()\n\n  table._tableExpand = instance\n\n  return instance\n\n  /**\n   * üîí Private Methods\n   */\n  function addTableListners () {\n    rows\n      .forEach(row => addRowListners(row, instance.isReadOnly))\n\n    if (!isReadOnly) {\n      instance.buttonInsert\n        .addEventListener('click', () => mountNewRow(isReadOnly))\n    }\n  }\n\n  function addRowListners (row, isReadOnly) {\n    row.open = open\n    row.close = close\n\n    row.expandElement\n      .addEventListener('click', () => onClick(row))\n\n    if (!isReadOnly) {\n      row.deleteButton\n        .addEventListener('click', () => removeRow(row))\n    }\n  }\n\n  function mountNewRow (isReadOnly) {\n    const lastRow = getLastRow(table)\n    const rowInstance = getRowInstance(lastRow, params.expandCellClass)\n\n    addRowListners(rowInstance)\n\n    lastRow.classList.remove(params.openClass)\n    instance.rows.push(rowInstance)\n  }\n\n  function removeRow (row) {\n    const rowIndex = row.element.rowIndex\n\n    // rowIndex it's only `1` when row isn't removed yet by\n    // Orquestra `DeleteRow` function\n    if (rowIndex === 1) {\n      return\n    }\n\n    // the first table row is actually the table header\n    instance.rows.splice(rowIndex - 1, 1)\n  }\n\n  function onClick (row) {\n    row.element.classList.toggle(params.openClass)\n    row.isOpen = !row.isOpen\n  }\n\n  /**\n   * üîë Public Methods\n   */\n  function closeAll () {\n    instance.rows\n      .forEach(row => row.close())\n  }\n\n  function openAll () {\n    instance.rows\n      .forEach(row => row.open())\n  }\n\n  function close () {\n    this.element.classList.remove(params.openClass)\n    this.isOpen = false\n  }\n\n  function open () {\n    this.element.classList.add(params.openClass)\n    this.isOpen = true\n  }\n}\n\n/**\n * üí° Helper Functions\n */\nfunction getTableBtnInsert (table) {\n  return table.querySelector('#BtnInsertNewRow')\n}\n\nfunction getTableRows (table) {\n  return [...table.querySelectorAll('tr:not(.header)')]\n}\n\nfunction getRowFirstCell (row, isReadOnly) {\n  return isReadOnly\n    ? row.querySelector('td:nth-child(1)')\n    : row.querySelector('td:nth-child(2)')\n}\n\nfunction getfirstHeaderCell (table, isReadOnly) {\n  return isReadOnly\n    ? table.querySelector('tr.header td:nth-child(1)')\n    : table.querySelector('tr.header td:nth-child(2)')\n}\n\nfunction getLastRow (table) {\n  return table.querySelector('tr:last-child')\n}\n\nfunction getRowInstance (row, expandCellClass) {\n  const expandElement = row\n    .querySelector(`.${expandCellClass}`)\n\n  const deleteButton = row\n    .querySelector('.btn-delete-mv')\n\n  return {\n    expandElement,\n    deleteButton,\n    element: row,\n    isOpen: false\n  }\n}\n\nfunction createExpandRows (table, isReadOnly, params) {\n  const rows = getTableRows(table)\n  const firstHeaderCell = getfirstHeaderCell(table, isReadOnly)\n  const emptyHeaderHtml = '<td class=\"form-table-expand-th\"></td>'\n\n  firstHeaderCell\n    .insertAdjacentHTML('beforebegin', emptyHeaderHtml)\n\n  return rows.map(row => {\n    const firstCell = getRowFirstCell(row, isReadOnly)\n    const expandCellHtml = getExpandCellMarkup(params)\n\n    firstCell\n      .insertAdjacentHTML('beforebegin', expandCellHtml)\n\n    return getRowInstance(row, params.expandCellClass)\n  })\n}\n\nfunction getExpandCellMarkup (params) {\n  return `\n  <td class=\"${params.expandCellClass}\">\n    <i class=\"form-table-expand-icon fas ${params.expandIcon}\"></i>\n  </td>`\n}\n","function registerEvents (tableInstance) {\n  tableInstance.btnInsert.onclick = ''\n  tableInstance.btnInsert.removeEventListener('click', InsertNewRow)\n  tableInstance.btnInsert.addEventListener('click', function (e) {\n    handeClick.call(this, e, tableInstance)\n  })\n\n  tableInstance\n    .rows()\n    .forEach(row => registerRowEvents(tableInstance, row))\n}\n\nfunction registerRowEvents (tableInstance, row) {\n  const btnDelete = row.querySelector('.btn-delete-mv')\n\n  btnDelete.onclick = ''\n  btnDelete.removeEventListener('click', DeleteRow)\n  btnDelete.addEventListener('click', function (e) {\n    handleRemove.call(this, e, tableInstance)\n  })\n}\n\nfunction getEventConfig (tableInstance) {\n  return {\n    bubbles: true,\n    detail: {\n      table: tableInstance.table,\n      length: getTableRowsLength(tableInstance.table),\n      lastRow: getLastRow(tableInstance.table)\n    }\n  }\n}\n\nfunction handeClick (e, tableInstance) {\n  this.dispatchEvent(\n    new CustomEvent('beforeInsert', getEventConfig(tableInstance))\n  )\n\n  InsertNewRow(this, true)\n\n  const newestRow = getLastRow(tableInstance.table)\n\n  registerRowEvents(tableInstance, newestRow)\n\n  if (tableInstance.onMount) {\n    tableInstance.onMount(newestRow)\n  }\n\n  this.dispatchEvent(\n    new CustomEvent('afterInsert', getEventConfig(tableInstance))\n  )\n}\n\nfunction handleRemove (e, tableInstance) {\n  const eventConfig = getEventConfig(tableInstance)\n  eventConfig.detail.deletedRow = this.closest('tr')\n\n  // chamando o evento diretamente na <table>\n  tableInstance.table.dispatchEvent(\n    new CustomEvent('beforeDelete', eventConfig)\n  )\n\n  DeleteRow(this)\n\n  tableInstance.table.dispatchEvent(\n    new CustomEvent('afterDelete', eventConfig)\n  )\n}\n\nfunction removeRows (table) {\n  const btnInsert = table.querySelector('#BtnInsertNewRow')\n\n  btnInsert.click()\n  table\n    .querySelectorAll('tr:not(.header):not(:last-child')\n    .forEach(row => row.remove())\n}\n\n/**\n * Helpers\n */\nconst getRows = table =>\n  table.querySelectorAll('tr:not(.header)')\n\nconst getLastRow = table =>\n  table.querySelector('tr:last-child')\n\nconst getTableRowsLength = table =>\n  getRows(table).length\n\n/**\n * Public Constructor\n */\nexport class TableMultivalue {\n  constructor (tableElementSelector, onMount, context = document) {\n    this.table = context.querySelector(tableElementSelector)\n    this.onMount = onMount\n\n    if (!this.table) {\n      console.error(`[Table Multivalue] table not found for the following selector: ${tableElementSelector}`)\n    }\n\n    if (this.onMount) {\n      this.table\n        .querySelectorAll('tr:not(.header)')\n        .forEach(row => this.onMount(row))\n    }\n\n    this.btnInsert = this.table.querySelector('#BtnInsertNewRow')\n    registerEvents(this)\n  }\n\n  static () {\n    this.table.classList.add('-static')\n  }\n\n  active () {\n    this.table.classList.remove('-static')\n  }\n\n  reset () {\n    removeRows(this.table)\n  }\n\n  on (eventName, callback) {\n    this.table.addEventListener(eventName, callback)\n  }\n\n  rows () {\n    return getRows(this.table)\n  }\n\n  lastRow () {\n    return getLastRow(this.table)\n  }\n\n  length () {\n    return getTableRowsLength(this.table)\n  }\n}\n\n/**\n * @todo implementar usando par√¢metros tamb√©m...\n * colocar as fun√ß√µes auxiliares dentro de um namespace\n */\nexport function mountTables () {\n  document.querySelectorAll('[mult=S]')\n    .forEach(table => {\n      const isActive = table.querySelector('#BtnInsertNewRow')\n\n      if (!isActive) {\n        table.classList.add('-readonly')\n      }\n    })\n}\n\nexport function appendData (table, data, addFirstRow = false) {\n  removeRows(table)\n\n  data.forEach((field, rowIndex) => {\n    if (addFirstRow || rowIndex > 0) {\n      table.querySelector('#BtnInsertNewRow').click()\n    }\n\n    Object.entries(field).forEach(([id, value]) => {\n      const lastRow = getLastRow(table)\n      const field = lastRow.querySelector(`[xname=inp${id}]`)\n\n      if (field) {\n        field.value = value\n      }\n    })\n  })\n}\n\nexport function removeData (table) {\n  const btnInsert = table.querySelector('#BtnInsertNewRow')\n\n  btnInsert.click()\n  table\n    .querySelectorAll('tr:not(.header):not(:last-child')\n    .forEach(row => row.remove())\n}\n","import TableExapnd from '../../components/table-expand'\nimport { appendData, removeData } from '../../components/table-multivalue'\nimport Template from '../../components/template'\n\nconst EquipmentsTable = function () {\n  const $refs = {\n    table: document.querySelector('#equipments-table'),\n    initialMessage: document.querySelector('#equipments-empty-state'),\n    notFoundMessage: document.querySelector('#equipments-not-found-state')\n  }\n\n  const state = {\n    tagId: 'metodoCalibracao'\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount () {\n    TableExapnd($refs.table)\n  }\n\n  function show ({ empty } = { empty: false }) {\n    $refs.initialMessage\n      .classList.add('is-hidden')\n\n    if (empty) {\n      return $refs.notFoundMessage\n        .classList.remove('is-hidden')\n    }\n\n    $refs.notFoundMessage\n      .classList.add('is-hidden')\n\n    $refs.table\n      .classList.remove('is-hidden')\n\n    Template.init()\n    addTagsLocationVariant()\n  }\n\n  function populate (data) {\n    appendData($refs.table, data)\n  }\n\n  function reset () {\n    removeData($refs.table)\n\n    $refs.table\n      .classList.add('is-hidden')\n\n    $refs.initialMessage\n      .classList.remove('is-hidden')\n  }\n\n  /**\n   * Private Methods\n   */\n  function addTagsLocationVariant () {\n    $refs.table\n      .querySelectorAll('tr:not(.header')\n      .forEach(tr => {\n        const tag = tr.querySelector(`[data-bind=\"${state.tagId}\"]`)\n        const variant = getTagVariant(tag.textContent)\n\n        tag.classList.add(variant)\n      })\n  }\n\n  return {\n    mount,\n    populate,\n    reset,\n    show\n  }\n}\n\nexport default EquipmentsTable()\n\n/**\n * Helpers\n */\nconst getTagVariant = value => {\n  if (value === 'Interno') {\n    return '-yellow'\n  }\n  if (value === 'Externo') {\n    return '-blue'\n  }\n\n  return null\n}\n","import EquipmentsForm from './equipments-form'\nimport EquipmentsTable from './equipments-table'\n\nconst Equipments = function () {\n  const state = {\n    alias: null,\n    emitter: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function init ({ alias, emitter }) {\n    const mountComponents = [\n      'avulso',\n      'controle'\n    ].includes(alias)\n\n    state.alias = alias\n    state.emitter = emitter\n    state.emitter.on('search-done', populateTable)\n    state.emitter.on('search-clear', resetTable)\n\n    if (mountComponents) {\n      mount()\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function mount () {\n    const { emitter } = state\n\n    EquipmentsTable.mount()\n\n    if (state.alias === 'avulso') {\n      EquipmentsForm.mount({ emitter })\n    }\n\n    if (state.alias === 'controle') {\n      EquipmentsTable.show()\n    }\n  }\n\n  function populateTable (tableData) {\n    EquipmentsTable.populate(tableData)\n    EquipmentsTable.show({ empty: !tableData.length })\n  }\n\n  function resetTable () {\n    EquipmentsTable.reset()\n  }\n\n  return {\n    init\n  }\n}\n\nexport default Equipments()\n","export function removeOptionPrefix (option, splitSeparator) {\n  return option\n    .split(splitSeparator)[1]\n    .trim()\n}\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\nimport { removeOptionPrefix } from '../helpers/component-helpers'\n\nconst defaults = {\n  groupClass: 'btn-radio-group',\n  btnClass: 'btn-radio',\n  activeClass: '-active',\n  hidePrefix: false,\n  splitSeparator: '.'\n}\n\nexport default function ButtonRadio (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'ButtonRadio'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (element, params) {\n  const changeEvent = new Event('change')\n  const {\n    select,\n    textvalue\n  } = getOrquestraField(element, params)\n\n  if (textvalue && params.hidePrefix) {\n    removeTextPrefix(textvalue)\n  }\n\n  if (!select) {\n    return\n  }\n\n  const { buttons, buttonGroup } = createButtonGroup(select, params)\n\n  const state = {\n    value: '',\n    isEnable: true\n  }\n\n  const instance = {\n    state,\n    element,\n    select,\n    buttonGroup,\n    buttons: [...buttons],\n    reset,\n    set,\n    get\n  }\n\n  addListners(buttons, select)\n\n  if (select.value !== '') {\n    set(select.value, true)\n  }\n\n  element._buttonGroup = instance\n\n  return instance\n\n  /**\n   * üîí Private Methods\n   */\n  function addListners (buttons, select) {\n    buttons\n      .forEach(button => {\n        button.addEventListener('click', onClick)\n      })\n\n    select.addEventListener('change', onChange)\n  }\n\n  function onChange () {\n    const value = this.value\n\n    if (value === '') {\n      reset()\n    } else {\n      set(value, true)\n    }\n  }\n\n  function onClick (e, silent) {\n    const option = this.dataset.option\n\n    reset()\n\n    this.classList.add(params.activeClass)\n    instance.select.value = option\n    state.value = option\n\n    if (!silent) {\n      instance.select.dispatchEvent(changeEvent)\n    }\n  }\n\n  function removeTextPrefix (textvalue) {\n    const value = removeOptionPrefix(textvalue.textContent, params.splitSeparator)\n    textvalue.textContent = value\n  }\n\n  /**\n   * üîë Public Methods\n   * @todo Destroy / ShowOption / HideOption / Disable (readonly) / Enable / TextOnly\n   */\n  function reset () {\n    state.value = ''\n    instance.select.value = ''\n    instance.buttons\n      .forEach(button => {\n        button.classList.remove(params.activeClass)\n      })\n  }\n\n  function set (option, silent = false) {\n    const button = instance.buttons\n      .find(button => button.dataset.option === option)\n\n    if (!button) {\n      throw new ComponentError({\n        name: params.name,\n        message:\n        `Erro ao realizar set para novo valor.\\nN√£o foi encontrada nenhuma op√ß√£o para o valor ${option}`,\n        type: 'option_not_found'\n      })\n    }\n\n    onClick.call(button, null, silent)\n  }\n\n  function get () {\n    return state.value\n  }\n}\n\n/**\n * üí° Helper Functions\n */\n\nfunction getOrquestraField (element, params) {\n  const select = element.querySelector('select[xname]')\n  const textvalue = element.querySelector('div[xid]')\n  const inputHidden = element.querySelector('input[type=hidden][xname]')\n\n  if (!select && !textvalue && !inputHidden) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a inst√¢ncia do componente.\\nNenhum campo do Orquestra encontrado para a refer√™ncia informada',\n      type: 'instace_field_not_found'\n    })\n  }\n\n  return {\n    select,\n    textvalue\n  }\n}\n\nfunction createButtonGroup (select, params) {\n  const options = getOrquestraFieldOptions(select, params)\n  const btnGroupHtml = getButtonGroupMarkup(options, params)\n\n  select.insertAdjacentHTML('afterend', btnGroupHtml)\n  select.style.display = 'none'\n\n  const buttonGroup = select.nextSibling\n  const buttons = buttonGroup.querySelectorAll(`.${params.btnClass}`)\n\n  return {\n    buttonGroup,\n    buttons\n  }\n}\n\nfunction getOrquestraFieldOptions (select, params) {\n  return [...select.options]\n    .filter(option => option.value)\n    .map(option => {\n      const value = option.value\n      const label = params.hidePrefix\n        ? removeOptionPrefix(value, params.splitSeparator)\n        : value\n\n      return { value, label }\n    })\n}\n\nfunction getButtonGroupMarkup (options, { groupClass, btnClass }) {\n  const buttons = options\n    .map(option => getButtonMarkup(option, btnClass))\n\n  return `<div class=\"btn-group ${groupClass}\">${buttons.join('')}</div>`\n}\n\nfunction getButtonMarkup ({ value, label }, btnClass) {\n  return `<button type=\"button\" class=\"btn ${btnClass}\" data-option=\"${value}\">${label}</button>`\n}\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\nimport { removeOptionPrefix } from '../helpers/component-helpers'\n\nconst defaults = {\n  radioInnerClass: 'input-radio-inner',\n  radioHelpClass: 'ctrl-option-help',\n  activeClass: '-active',\n  hidePrefix: false,\n  splitSeparator: '.'\n}\n\nexport default function InputRadio (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'InputRadio'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (element, params) {\n  const {\n    radios,\n    textvalue\n  } = getOrquestraField(element, params)\n\n  const checked = radios\n    .find(radio => radio.checked)\n\n  if (textvalue && params.hidePrefix) {\n    removeTextPrefix(textvalue)\n  }\n\n  if (!radios) {\n    return\n  }\n\n  createInputRadio(radios, element, params)\n\n  const state = {\n    value: '',\n    isEnable: true\n  }\n\n  const instance = {\n    state,\n    element,\n    radios,\n    checked,\n    reset,\n    set,\n    get\n  }\n\n  addListners(radios)\n\n  if (checked) {\n    set(checked.value)\n  }\n\n  element._inputRadio = instance\n\n  return instance\n\n  /**\n   * üîí Private Methods\n   */\n  function addListners (radios) {\n    radios\n      .forEach(radio => {\n        radio.addEventListener('click', onClick)\n      })\n  }\n\n  function onClick () {\n    instance.checked = this\n    state.value = this.value\n  }\n\n  function removeTextPrefix (textvalue) {\n    const value = removeOptionPrefix(textvalue.textContent, params.splitSeparator)\n    textvalue.textContent = value\n  }\n\n  /**\n   * üîë Public Methods\n   * @todo Destroy / AddOption / RemoveOption / Disable (readonly) / Enable / TextOnlys\n   */\n  function reset () {\n    state.value = ''\n    instance.radios\n      .forEach(radio => {\n        radio.checked = false\n      })\n  }\n\n  function set (option) {\n    const radio = instance.radios\n      .find(radio => radio.value === option)\n\n    if (!radio) {\n      throw new ComponentError({\n        name: params.name,\n        message:\n        `Erro ao realizar set para novo valor.\\nN√£o foi encontrada nenhuma op√ß√£o para o valor ${option}`,\n        type: 'option_not_found'\n      })\n    }\n\n    onClick.apply(radio)\n  }\n\n  function get () {\n    return state.value\n  }\n}\n\n/**\n * üí° Helper Functions\n */\n\nfunction getOrquestraField (element, params) {\n  const radios = [...element.querySelectorAll('input[type=radio][xname]')]\n  const textvalue = element.querySelector('div[xid]')\n\n  if (!radios && !textvalue) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a inst√¢ncia do componente.\\nNenhum campo do tipo m√∫ltipla sele√ß√£o (radio) Orquestra encontrado',\n      type: 'instace_field_not_found'\n    })\n  }\n\n  return {\n    radios,\n    textvalue\n  }\n}\n\nfunction createInputRadio (radios, element, params) {\n  const radioInnerHtml = getRadioInnerMarkup(params.radioInnerClass)\n\n  radios.forEach(radio => {\n    const radioOption = radio.value\n    const radioHelper = getRadioHelper(element, radioOption, params)\n    const textNode = radio.nextSibling\n    const radioText = params.hidePrefix\n      ? removeOptionPrefix(radioOption, params.splitSeparator)\n      : textNode.textContent\n\n    textNode.remove()\n\n    if (radioHelper) {\n      radio.insertAdjacentElement('afterend', radioHelper)\n    }\n\n    radio.insertAdjacentHTML('afterend', `<span>${radioText}</span>`)\n    radio.insertAdjacentHTML('afterend', radioInnerHtml)\n  })\n}\n\nfunction getRadioHelper (element, radioOption, params) {\n  const radioHelper = element.querySelector(`[data-ctrl-help=\"${radioOption}\"]`)\n\n  if (!radioHelper) {\n    return null\n  }\n\n  const radioHelperClone = radioHelper.cloneNode(true)\n  delete radioHelperClone.dataset.ctrlHelp\n  radioHelperClone.classList.add(params.radioHelpClass)\n\n  return radioHelperClone\n}\n\nfunction getRadioInnerMarkup (radioInnerClass) {\n  return `<div class=\"${radioInnerClass}\"></div>`\n}\n","import Form from '../../components/form'\nimport ButtonRadio from '../../components/button-radio'\nimport InputRadio from '../../components/input-radio'\n\nconst InterventionForm = function () {\n  const $refs = {\n    lastDate: document.querySelector('[xname=inpultimaCalibracao]'),\n    nextDate: document.querySelector('[xname=inpproximaCalibracaoPrevisto]'),\n    nextDateMask: document.querySelector('[name=proximaCalibracaoPrevisto]'),\n    daysFrequencyCalibration: document.querySelector('[xname=inpqtdDiasFrequenciaCalibracao]')\n  }\n\n  const state = {\n    alias: null,\n    btnRadioRef: '[data-btn-radio]',\n    inpRadioRef: '[data-input-radio]'\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ alias }) {\n    state.alias = alias\n\n    ButtonRadio(state.btnRadioRef, { hidePrefix: true })\n    InputRadio(state.inpRadioRef, { hidePrefix: true })\n    handleNextIntervention()\n\n    if (state.alias === 'checklist-certificado') {\n      addHandlers.certificateForm()\n    }\n\n    if (state.alias === 'checklist-relatorio') {\n      addHandlers.reportForm()\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function handleNextIntervention () {\n    // clear fields to force Orquestra validation on those fields\n    clearInterventionDates()\n\n    $('[name=ultimaCalibracao]')\n      .on('change', function () {\n        getNextIntervention($(this), $refs.lastDate, [\n          $refs.nextDate,\n          $refs.nextDateMask\n        ])\n      })\n  }\n\n  function getNextIntervention ($input, origin, targets) {\n    if ($input.val() === '') {\n      return clearInterventionDates()\n    }\n\n    const lastDate = $input.datepicker('getDate')\n    const nextDate = new Date(lastDate)\n    const daysToAdd = parseInt($refs.daysFrequencyCalibration.value)\n\n    nextDate.setDate(nextDate.getDate() + daysToAdd)\n    origin.value = dateToStringDate(lastDate)\n\n    targets.forEach(input => {\n      input.value = dateToStringDate(nextDate)\n    })\n  }\n\n  function clearInterventionDates () {\n    [\n      $refs.lastDate,\n      $refs.nextDate,\n      $refs.nextDateMask\n    ].forEach(input => {\n      input.value = ''\n    })\n  }\n\n  const addHandlers = {\n    reportForm () {\n      Form.handler({\n        target: 'equipamentoAprovadoPeloFornecedor',\n        events: 'change'\n      }, function (value) {\n        if (value === '2. N√£o') {\n          Form.showField('destinoEquipamento')\n        } else {\n          Form.hideField('destinoEquipamento')\n        }\n      })\n    },\n\n    certificateForm () {\n      Form.handler({\n        target: 'calibracaoSegundoNormaTecnica',\n        events: 'change'\n      }, function (value) {\n        if (value === '1. Sim') {\n          Form.showField('normaTecnica')\n        } else {\n          Form.hideField('normaTecnica')\n        }\n      })\n\n      Form.handler({\n        target: 'laboratorioCalibracaoRbc',\n        events: 'change'\n      }, function (value) {\n        const fields = [\n          'certificadosDosPadroesFornecidos',\n          'padoresSecundariosCalibradosRbc',\n          'calibracaoDosPadroesSecundariosNaValidade'\n        ]\n\n        if (value === '2. N√£o') {\n          fields.forEach(field => Form.showField(field))\n        } else {\n          fields.forEach(field => Form.hideField(field))\n        }\n      })\n\n      Form.handler({\n        target: 'equipamentoAptoUtilizacao',\n        events: 'change'\n      }, function (value) {\n        if (value === '2. N√£o') {\n          Form.showField('destinoEquipamento')\n        } else {\n          Form.hideField('destinoEquipamento')\n        }\n      })\n    }\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default InterventionForm()\n\n/**\n * Helpers\n */\nconst dateToStringDate = date =>\n  date.toLocaleString('pt-BR', { year: 'numeric', month: 'numeric', day: 'numeric' })\n","\nimport InterventionForm from './intervention-form'\n\nconst Intervention = function () {\n  const state = {\n    alias: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function init ({ alias }) {\n    const mountComponents = [\n      'checklist-certificado',\n      'checklist-relatorio'\n    ].includes(alias)\n\n    state.alias = alias\n\n    if (mountComponents) {\n      mount()\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function mount () {\n    const { alias } = state\n\n    InterventionForm.mount({ alias })\n  }\n\n  return {\n    init\n  }\n}\n\nexport default Intervention()\n","/**\n * Dependencies\n */\nimport mitt from 'mitt'\n\n/**\n * Components\n */\nimport Template from './components/template'\nimport Form from './components/form'\n\n/**\n * Modules\n */\nimport Equipments from './modules/equipments'\nimport Intervention from './modules/intervention'\n\nconst emitter = mitt()\nconst alias = document.querySelector('#inpDsFlowElementAlias').value\n\nTemplate.init()\nForm.conditionals()\n\n/**\n * Initialize Modules\n */\nEquipments.init({ alias, emitter })\nIntervention.init({ alias })\n"],"sourceRoot":""}